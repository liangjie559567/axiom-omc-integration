# /knowledge - çŸ¥è¯†åº“æŸ¥è¯¢æŠ€èƒ½

## æè¿°

æŸ¥è¯¢é¡¹ç›®çŸ¥è¯†å›¾è°±ï¼Œæ”¯æŒæŒ‰å…³é”®è¯ã€ç±»å‹ã€æ ‡ç­¾æœç´¢èŠ‚ç‚¹ï¼ŒæŸ¥çœ‹èŠ‚ç‚¹å…³ç³»å’Œç»Ÿè®¡ä¿¡æ¯ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿè·å–é¡¹ç›®çŸ¥è¯†ã€‚

## ä½¿ç”¨æ–¹å¼

```
/knowledge <å…³é”®è¯>
/knowledge --stats
/knowledge --type <èŠ‚ç‚¹ç±»å‹>
/knowledge --tags <æ ‡ç­¾>
/knowledge --related <èŠ‚ç‚¹ID>
```

## å‚æ•°

- `<å…³é”®è¯>` - æœç´¢åŒ…å«å…³é”®è¯çš„èŠ‚ç‚¹
- `--stats` - æ˜¾ç¤ºçŸ¥è¯†å›¾è°±ç»Ÿè®¡ä¿¡æ¯
- `--type <èŠ‚ç‚¹ç±»å‹>` - æŒ‰ç±»å‹è¿‡æ»¤èŠ‚ç‚¹ï¼ˆdecision, pattern, insight, documentï¼‰
- `--tags <æ ‡ç­¾>` - æŒ‰æ ‡ç­¾è¿‡æ»¤èŠ‚ç‚¹ï¼ˆå¤šä¸ªæ ‡ç­¾ç”¨é€—å·åˆ†éš”ï¼‰
- `--related <èŠ‚ç‚¹ID>` - æŸ¥çœ‹ä¸æŒ‡å®šèŠ‚ç‚¹ç›¸å…³çš„èŠ‚ç‚¹

## åŠŸèƒ½

æ­¤æŠ€èƒ½ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. **åŠ è½½çŸ¥è¯†å›¾è°±** - ä» `.agent/knowledge/knowledge_graph.json` åŠ è½½çŸ¥è¯†å›¾è°±
2. **æœç´¢èŠ‚ç‚¹** - æ ¹æ®å…³é”®è¯ã€ç±»å‹ã€æ ‡ç­¾æœç´¢èŠ‚ç‚¹
3. **æŸ¥çœ‹å…³ç³»** - æ˜¾ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„å…³è”å…³ç³»
4. **ç»Ÿè®¡åˆ†æ** - æä¾›çŸ¥è¯†å›¾è°±çš„ç»Ÿè®¡ä¿¡æ¯

## èŠ‚ç‚¹ç±»å‹

### å†³ç­–èŠ‚ç‚¹ (decision)
è®°å½•é¡¹ç›®ä¸­çš„é‡è¦å†³ç­–ï¼š
- æŠ€æœ¯é€‰å‹å†³ç­–
- æ¶æ„è®¾è®¡å†³ç­–
- é—®é¢˜è§£å†³æ–¹æ¡ˆ
- ä¼˜åŒ–ç­–ç•¥

### æ¨¡å¼èŠ‚ç‚¹ (pattern)
è®°å½•è¯†åˆ«çš„ä»£ç æ¨¡å¼ï¼š
- è®¾è®¡æ¨¡å¼
- æ¶æ„æ¨¡å¼
- æœ€ä½³å®è·µ
- åæ¨¡å¼

### æ´å¯ŸèŠ‚ç‚¹ (insight)
è®°å½•ä»å†³ç­–ä¸­å­¦ä¹ çš„ç»éªŒï¼š
- æˆåŠŸç»éªŒ
- å¤±è´¥æ•™è®­
- ä¼˜åŒ–å»ºè®®
- é£é™©æç¤º

### æ–‡æ¡£èŠ‚ç‚¹ (document)
è®°å½•é¡¹ç›®æ–‡æ¡£ï¼š
- æŠ€æœ¯æ–‡æ¡£
- API æ–‡æ¡£
- è®¾è®¡æ–‡æ¡£
- ç”¨æˆ·æŒ‡å—

## ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šæœç´¢å…³é”®è¯

```
/knowledge "è®¤è¯"
```

è¾“å‡ºï¼š

```
ğŸ” æœç´¢ç»“æœ: "è®¤è¯"

æ‰¾åˆ° 5 ä¸ªèŠ‚ç‚¹

================================================================================
å†³ç­–èŠ‚ç‚¹
================================================================================

1. [decision_20260115_001] JWT è®¤è¯æ–¹æ¡ˆ
   ç±»å‹: decision
   æ ‡ç­¾: authentication, security, jwt
   åˆ›å»ºæ—¶é—´: 2026-01-15 10:30:00
   æè¿°: é€‰æ‹© JWT ä½œä¸ºç”¨æˆ·è®¤è¯æ–¹æ¡ˆï¼Œä½¿ç”¨ RS256 ç­¾åç®—æ³•

   å†³ç­–ç†ç”±:
   - æ— çŠ¶æ€è®¤è¯ï¼Œæ˜“äºæ°´å¹³æ‰©å±•
   - æ”¯æŒè·¨åŸŸè®¤è¯
   - Token å¯æºå¸¦ç”¨æˆ·ä¿¡æ¯

   ç›¸å…³èŠ‚ç‚¹:
   - [pattern_factory_001] å·¥å‚æ¨¡å¼ (ç”¨äºåˆ›å»º JWT æœåŠ¡)
   - [insight_security_001] å®‰å…¨æœ€ä½³å®è·µ

   æ–‡ä»¶ä½ç½®: app/core/security.py:20-80

2. [decision_20260120_003] ç™»å½•å¤±è´¥é™åˆ¶
   ç±»å‹: decision
   æ ‡ç­¾: authentication, security, rate-limiting
   åˆ›å»ºæ—¶é—´: 2026-01-20 14:15:00
   æè¿°: å®ç°ç™»å½•å¤±è´¥æ¬¡æ•°é™åˆ¶ï¼Œ5 æ¬¡å¤±è´¥åé”å®š 15 åˆ†é’Ÿ

   å†³ç­–ç†ç”±:
   - é˜²æ­¢æš´åŠ›ç ´è§£æ”»å‡»
   - ä½¿ç”¨ Redis å­˜å‚¨å¤±è´¥æ¬¡æ•°
   - æä¾›å‹å¥½çš„é”™è¯¯æç¤º

   ç›¸å…³èŠ‚ç‚¹:
   - [decision_20260115_001] JWT è®¤è¯æ–¹æ¡ˆ
   - [pattern_cache_001] ç¼“å­˜æ¨¡å¼

   æ–‡ä»¶ä½ç½®: app/services/auth_service.py:150-200

================================================================================
æ¨¡å¼èŠ‚ç‚¹
================================================================================

3. [pattern_auth_001] è®¤è¯ä¸­é—´ä»¶æ¨¡å¼
   ç±»å‹: pattern
   æ ‡ç­¾: authentication, middleware, fastapi
   åˆ›å»ºæ—¶é—´: 2026-01-16 09:00:00
   æè¿°: ä½¿ç”¨ FastAPI ä¾èµ–æ³¨å…¥å®ç°è®¤è¯ä¸­é—´ä»¶

   ç¤ºä¾‹ä»£ç :
   ```python
   async def get_current_user(token: str = Depends(oauth2_scheme)):
       payload = jwt.decode(token, SECRET_KEY, algorithms=["RS256"])
       return User(**payload)
   ```

   ä½¿ç”¨åœºæ™¯: ä¿æŠ¤éœ€è¦è®¤è¯çš„ API ç«¯ç‚¹

   ç›¸å…³èŠ‚ç‚¹:
   - [decision_20260115_001] JWT è®¤è¯æ–¹æ¡ˆ
   - [pattern_dependency_001] ä¾èµ–æ³¨å…¥æ¨¡å¼

================================================================================
æ´å¯ŸèŠ‚ç‚¹
================================================================================

4. [insight_auth_001] JWT Token è¿‡æœŸæ—¶é—´è®¾ç½®
   ç±»å‹: insight
   æ ‡ç­¾: authentication, jwt, best-practice
   åˆ›å»ºæ—¶é—´: 2026-01-18 16:45:00
   æè¿°: Access Token 15 åˆ†é’Ÿï¼ŒRefresh Token 7 å¤©æ˜¯åˆç†çš„å¹³è¡¡

   ç»éªŒæ€»ç»“:
   - Access Token è¿‡çŸ­å½±å“ç”¨æˆ·ä½“éªŒ
   - Access Token è¿‡é•¿å¢åŠ å®‰å…¨é£é™©
   - Refresh Token æ”¯æŒé•¿æœŸç™»å½•
   - éœ€è¦å®ç° Token åˆ·æ–°æœºåˆ¶

   ç›¸å…³èŠ‚ç‚¹:
   - [decision_20260115_001] JWT è®¤è¯æ–¹æ¡ˆ
   - [insight_security_001] å®‰å…¨æœ€ä½³å®è·µ

5. [insight_auth_002] å¯†ç åŠ å¯†æˆæœ¬å› å­
   ç±»å‹: insight
   æ ‡ç­¾: authentication, security, bcrypt
   åˆ›å»ºæ—¶é—´: 2026-01-19 11:20:00
   æè¿°: bcrypt cost=12 æ˜¯æ€§èƒ½å’Œå®‰å…¨çš„æœ€ä½³å¹³è¡¡ç‚¹

   ç»éªŒæ€»ç»“:
   - cost=10 å¤ªå¼±ï¼Œå®¹æ˜“è¢«æš´åŠ›ç ´è§£
   - cost=14 å¤ªæ…¢ï¼Œå½±å“ç™»å½•ä½“éªŒ
   - cost=12 åŠ å¯†æ—¶é—´çº¦ 300msï¼Œå¯æ¥å—

   ç›¸å…³èŠ‚ç‚¹:
   - [decision_20260115_001] JWT è®¤è¯æ–¹æ¡ˆ
```

### ç¤ºä¾‹ 2ï¼šæŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯

```
/knowledge --stats
```

è¾“å‡ºï¼š

```
ğŸ“Š çŸ¥è¯†å›¾è°±ç»Ÿè®¡

æ€»èŠ‚ç‚¹æ•°: 234
æ€»è¾¹æ•°: 456

æŒ‰ç±»å‹åˆ†å¸ƒ:
  - å†³ç­–èŠ‚ç‚¹ (decision): 42 (17.9%)
  - æ¨¡å¼èŠ‚ç‚¹ (pattern): 28 (12.0%)
  - æ´å¯ŸèŠ‚ç‚¹ (insight): 156 (66.7%)
  - æ–‡æ¡£èŠ‚ç‚¹ (document): 8 (3.4%)

æŒ‰æ ‡ç­¾åˆ†å¸ƒ (Top 10):
  1. authentication: 15 ä¸ªèŠ‚ç‚¹
  2. performance: 12 ä¸ªèŠ‚ç‚¹
  3. security: 10 ä¸ªèŠ‚ç‚¹
  4. database: 9 ä¸ªèŠ‚ç‚¹
  5. api: 8 ä¸ªèŠ‚ç‚¹
  6. testing: 7 ä¸ªèŠ‚ç‚¹
  7. caching: 6 ä¸ªèŠ‚ç‚¹
  8. error-handling: 5 ä¸ªèŠ‚ç‚¹
  9. logging: 5 ä¸ªèŠ‚ç‚¹
  10. deployment: 4 ä¸ªèŠ‚ç‚¹

èŠ‚ç‚¹å…³ç³»ç»Ÿè®¡:
  - å¹³å‡æ¯ä¸ªèŠ‚ç‚¹æœ‰ 1.95 ä¸ªå…³è”
  - æœ€å¤šå…³è”çš„èŠ‚ç‚¹: [decision_20260115_001] JWT è®¤è¯æ–¹æ¡ˆ (12 ä¸ªå…³è”)
  - å­¤ç«‹èŠ‚ç‚¹: 8 ä¸ª (3.4%)

æœ€è¿‘æ›´æ–°: 2026-02-16T22:30:00
æœ€è¿‘æ·»åŠ çš„èŠ‚ç‚¹: [insight_performance_005] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
```

### ç¤ºä¾‹ 3ï¼šæŒ‰ç±»å‹è¿‡æ»¤

```
/knowledge --type decision
```

è¾“å‡ºï¼š

```
ğŸ“š å†³ç­–èŠ‚ç‚¹

æ‰¾åˆ° 42 ä¸ªå†³ç­–èŠ‚ç‚¹

æœ€è¿‘çš„å†³ç­–:

1. [decision_20260215_001] ä½¿ç”¨ Celery å¤„ç†å¼‚æ­¥ä»»åŠ¡
   åˆ›å»ºæ—¶é—´: 2026-02-15 10:00:00
   æ ‡ç­¾: async, celery, rabbitmq
   æè¿°: é€‰æ‹© Celery + RabbitMQ å¤„ç†é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡

2. [decision_20260210_002] å®ç° Faiss å‘é‡ç´¢å¼•
   åˆ›å»ºæ—¶é—´: 2026-02-10 14:30:00
   æ ‡ç­¾: search, vector, faiss
   æè¿°: ä½¿ç”¨ Faiss å®ç°é«˜æ•ˆçš„å‘é‡ç›¸ä¼¼åº¦æœç´¢

3. [decision_20260205_003] å¤šæ¶ˆæ¯å…³è”ç­–ç•¥
   åˆ›å»ºæ—¶é—´: 2026-02-05 09:15:00
   æ ‡ç­¾: telegram, bundling, correlation
   æè¿°: å®ç° 4 å±‚ç­–ç•¥å…³è” Telegram å¤šæ¶ˆæ¯èµ„æºåŒ…

...
```

### ç¤ºä¾‹ 4ï¼šæŒ‰æ ‡ç­¾è¿‡æ»¤

```
/knowledge --tags authentication,security
```

è¾“å‡ºï¼š

```
ğŸ·ï¸  æ ‡ç­¾è¿‡æ»¤: authentication, security

æ‰¾åˆ° 8 ä¸ªèŠ‚ç‚¹

1. [decision_20260115_001] JWT è®¤è¯æ–¹æ¡ˆ
   ç±»å‹: decision
   æ ‡ç­¾: authentication, security, jwt

2. [decision_20260120_003] ç™»å½•å¤±è´¥é™åˆ¶
   ç±»å‹: decision
   æ ‡ç­¾: authentication, security, rate-limiting

3. [pattern_auth_001] è®¤è¯ä¸­é—´ä»¶æ¨¡å¼
   ç±»å‹: pattern
   æ ‡ç­¾: authentication, middleware, fastapi

4. [insight_auth_001] JWT Token è¿‡æœŸæ—¶é—´è®¾ç½®
   ç±»å‹: insight
   æ ‡ç­¾: authentication, jwt, best-practice

5. [insight_security_001] å®‰å…¨æœ€ä½³å®è·µ
   ç±»å‹: insight
   æ ‡ç­¾: security, best-practice

...
```

### ç¤ºä¾‹ 5ï¼šæŸ¥çœ‹ç›¸å…³èŠ‚ç‚¹

```
/knowledge --related decision_20260115_001
```

è¾“å‡ºï¼š

```
ğŸ”— ç›¸å…³èŠ‚ç‚¹: [decision_20260115_001] JWT è®¤è¯æ–¹æ¡ˆ

ç›´æ¥å…³è” (12 ä¸ª):

1. [pattern_factory_001] å·¥å‚æ¨¡å¼
   å…³ç³»ç±»å‹: uses_pattern
   æè¿°: JWT æœåŠ¡ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»º

2. [insight_security_001] å®‰å…¨æœ€ä½³å®è·µ
   å…³ç³»ç±»å‹: follows_insight
   æè¿°: éµå¾ªå®‰å…¨æœ€ä½³å®è·µ

3. [decision_20260120_003] ç™»å½•å¤±è´¥é™åˆ¶
   å…³ç³»ç±»å‹: extends
   æè¿°: æ‰©å±•è®¤è¯åŠŸèƒ½

4. [pattern_auth_001] è®¤è¯ä¸­é—´ä»¶æ¨¡å¼
   å…³ç³»ç±»å‹: implements
   æè¿°: å®ç°è®¤è¯ä¸­é—´ä»¶

5. [insight_auth_001] JWT Token è¿‡æœŸæ—¶é—´è®¾ç½®
   å…³ç³»ç±»å‹: provides_insight
   æè¿°: æä¾› Token è¿‡æœŸæ—¶é—´è®¾ç½®çš„æ´å¯Ÿ

...

é—´æ¥å…³è” (é€šè¿‡ 2 è·³ï¼Œ5 ä¸ª):

1. [pattern_cache_001] ç¼“å­˜æ¨¡å¼
   è·¯å¾„: decision_20260115_001 â†’ decision_20260120_003 â†’ pattern_cache_001
   æè¿°: ç™»å½•å¤±è´¥é™åˆ¶ä½¿ç”¨ç¼“å­˜æ¨¡å¼

2. [insight_performance_002] Redis æ€§èƒ½ä¼˜åŒ–
   è·¯å¾„: decision_20260115_001 â†’ pattern_cache_001 â†’ insight_performance_002
   æè¿°: ç¼“å­˜æ€§èƒ½ä¼˜åŒ–å»ºè®®

...
```

## è¾“å‡º

èŠ‚ç‚¹ä¿¡æ¯åŒ…å«ï¼š

- **èŠ‚ç‚¹ ID** - å”¯ä¸€æ ‡è¯†ç¬¦
- **èŠ‚ç‚¹ç±»å‹** - decision, pattern, insight, document
- **æ ‡ç­¾** - åˆ†ç±»æ ‡ç­¾åˆ—è¡¨
- **åˆ›å»ºæ—¶é—´** - èŠ‚ç‚¹åˆ›å»ºæ—¶é—´
- **æè¿°** - èŠ‚ç‚¹çš„è¯¦ç»†è¯´æ˜
- **ç›¸å…³èŠ‚ç‚¹** - å…³è”çš„å…¶ä»–èŠ‚ç‚¹
- **æ–‡ä»¶ä½ç½®** - ç›¸å…³ä»£ç æ–‡ä»¶ï¼ˆå¦‚æœæœ‰ï¼‰

## æ³¨æ„äº‹é¡¹

- çŸ¥è¯†å›¾è°±ç”± `/evolve` æŠ€èƒ½è‡ªåŠ¨æ›´æ–°
- çŸ¥è¯†å›¾è°±å­˜å‚¨åœ¨ `.agent/knowledge/knowledge_graph.json`
- å»ºè®®å®šæœŸè¿è¡Œ `/evolve` æ›´æ–°çŸ¥è¯†å›¾è°±
- å¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ `knowledge_graph.json` æ·»åŠ è‡ªå®šä¹‰èŠ‚ç‚¹

## ä½¿ç”¨åœºæ™¯

### 1. æŸ¥æ‰¾å†å²å†³ç­–

```
/knowledge "æ•°æ®åº“"
```

æŸ¥æ‰¾æ‰€æœ‰ä¸æ•°æ®åº“ç›¸å…³çš„å†³ç­–ï¼Œäº†è§£æŠ€æœ¯é€‰å‹ç†ç”±ã€‚

### 2. å­¦ä¹ é¡¹ç›®ç»éªŒ

```
/knowledge --type insight
```

æŸ¥çœ‹æ‰€æœ‰æ´å¯ŸèŠ‚ç‚¹ï¼Œå­¦ä¹ é¡¹ç›®ä¸­ç§¯ç´¯çš„ç»éªŒå’Œæ•™è®­ã€‚

### 3. äº†è§£çŸ¥è¯†å›¾è°±è§„æ¨¡

```
/knowledge --stats
```

æŸ¥çœ‹çŸ¥è¯†å›¾è°±çš„æ•´ä½“ç»Ÿè®¡ä¿¡æ¯ï¼Œäº†è§£é¡¹ç›®çŸ¥è¯†ç§¯ç´¯æƒ…å†µã€‚

### 4. æŸ¥æ‰¾ç›¸å…³çŸ¥è¯†

```
/knowledge --related decision_20260115_001
```

æŸ¥æ‰¾ä¸ç‰¹å®šå†³ç­–ç›¸å…³çš„æ‰€æœ‰çŸ¥è¯†ï¼Œäº†è§£å†³ç­–çš„ä¸Šä¸‹æ–‡å’Œå½±å“ã€‚

### 5. æŒ‰ä¸»é¢˜æµè§ˆ

```
/knowledge --tags performance,optimization
```

æŒ‰æ ‡ç­¾æµè§ˆç‰¹å®šä¸»é¢˜çš„çŸ¥è¯†ï¼Œç³»ç»Ÿå­¦ä¹ æŸä¸ªé¢†åŸŸã€‚

## ç›¸å…³æŠ€èƒ½

- `/evolve` - è§¦å‘çŸ¥è¯†æ¼”åŒ–ï¼ˆæ›´æ–°çŸ¥è¯†å›¾è°±ï¼‰
- `/patterns` - æŸ¥çœ‹ä»£ç æ¨¡å¼åº“
- `/reflect` - ç”Ÿæˆåæ€æŠ¥å‘Šï¼ˆåˆ†æå†³ç­–è´¨é‡ï¼‰
