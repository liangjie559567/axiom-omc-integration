# 项目上下文摘要（工作流引导优化）

生成时间：2026-02-18

## 需求澄清结果

### 1. 优化目标
- **类型**：功能增强 + 用户体验改进 + 稳定性提升
- **对象**：axiom-omc-integration 项目本身
- **范围**：全面优化（工作流执行、任务规划、代码生成、测试验证、代理协调）

### 2. 核心痛点
**用户不会使用工作流开发**，具体表现为：
- 不知道该用哪个工作流（autopilot、ralph、team 等选择困难）
- 不知道如何调用工作流（命令语法不清楚）
- 工作流太复杂（参数配置多，学习成本高）
- 缺少引导和提示（没有智能推荐）
- **整体使用门槛太高**

### 3. 成功标准
优化后用户应该能够：
- **智能引导**：系统主动推荐工作流，解释为什么，用户确认即可
- **简化命令**：统一入口，不需要记住多个命令

### 4. 约束条件
- ✅ 不能破坏现有功能（已有工作流必须继续可用）
- ✅ 需要保持向后兼容（老用户使用方式不受影响）

### 5. 优先级
**最高优先级**：引导式交互 - 通过问答帮助用户选择工作流

## 解决方案方向

### 核心思路
在 brainstorming 技能完成需求澄清后，自动触发工作流引导流程：
1. 分析任务复杂度
2. 推荐最合适的工作流
3. 解释推荐理由
4. 提供简化的执行选项

### 关键设计点
- **零记忆负担**：用户不需要记住工作流名称
- **智能决策**：系统根据任务特征自动推荐
- **透明解释**：清楚说明为什么推荐这个工作流
- **简单确认**：用户只需回复"开始"即可执行

## 相关文件分析

### 当前 brainstorming 技能
- **位置**：`~/.claude/plugins/cache/axiom-omc-integration/axiom-omc/3.0.0/skills/brainstorming`
- **现状**：已有工作流推荐模板，但可能未充分实现
- **需要增强**：
  - 复杂度评估算法
  - 工作流推荐逻辑
  - 用户回复处理
  - 自动执行机制

### 工作流技能清单
从 CLAUDE.md 中识别的工作流：
- `autopilot`：全自动执行
- `ralph`：持久化循环
- `team`：多代理协调
- `pipeline`：顺序链式
- `ultrawork`：最大并行
- `writing-plans`：先规划后执行

## 技术选型理由

### 为什么增强 brainstorming 技能？
- **统一入口**：用户只需调用 brainstorming，无需选择工作流
- **自然流程**：需求澄清 → 工作流推荐 → 自动执行，符合认知
- **向后兼容**：不影响直接调用工作流的老用户

### 为什么用引导式交互？
- **降低门槛**：问答式比文档学习更友好
- **减少错误**：系统推荐比用户猜测更准确
- **提升信心**：解释理由让用户理解为什么这样做

## 关键风险点

### 1. 复杂度评估准确性
- **风险**：推荐错误的工作流，导致执行失败
- **缓解**：提供多个选项，允许用户覆盖

### 2. 向后兼容性
- **风险**：改动影响现有用户
- **缓解**：保留所有现有命令，新功能作为增强

### 3. 用户回复识别
- **风险**：无法正确理解用户的回复意图
- **缓解**：提供明确的选项，支持多种表达方式

## 验收标准

### 功能验收
- [ ] 用户调用 brainstorming 后，自动进行需求澄清
- [ ] 需求澄清完成后，自动推荐工作流
- [ ] 推荐包含：工作流名称、推荐理由、执行选项
- [ ] 用户回复"开始"后，自动执行推荐的工作流
- [ ] 用户可以选择其他工作流
- [ ] 所有现有工作流命令继续可用

### 用户体验验收
- [ ] 新用户无需学习工作流名称即可使用
- [ ] 推荐理由清晰易懂
- [ ] 执行选项简单明了
- [ ] 整个流程流畅自然

### 稳定性验收
- [ ] 复杂度评估不会出错
- [ ] 工作流调用不会失败
- [ ] 向后兼容性测试通过
