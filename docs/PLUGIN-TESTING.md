# Claude Code æ’ä»¶æµ‹è¯•æŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•è¿è¡Œ Axiom-OMC Integration çš„ Claude Code æ’ä»¶æµ‹è¯•ã€‚

---

## ğŸ“‹ æµ‹è¯•ç±»å‹

### 1. å•å…ƒæµ‹è¯•ï¼ˆå·²æœ‰ï¼‰
åŸºæœ¬çš„æ’ä»¶åŠŸèƒ½å•å…ƒæµ‹è¯•ï¼Œä¸éœ€è¦çœŸå®çš„ Claude Code ç¯å¢ƒã€‚

### 2. é›†æˆæµ‹è¯•ï¼ˆæ–°å¢ï¼‰â­
çœŸå®çš„ Claude Code æ’ä»¶é›†æˆæµ‹è¯•ï¼Œæµ‹è¯•æ’ä»¶åœ¨å®é™…ç¯å¢ƒä¸­çš„è¡Œä¸ºã€‚

### 3. çœŸå®ç¯å¢ƒæµ‹è¯•ï¼ˆæ–°å¢ï¼‰â­
åœ¨çœŸå®çš„ Claude Code ç¯å¢ƒä¸­å®‰è£…å’Œæµ‹è¯•æ’ä»¶ã€‚

---

## ğŸš€ è¿è¡Œæµ‹è¯•

### æ–¹å¼ 1: é›†æˆæµ‹è¯•ï¼ˆæ¨èç”¨äº CI/CDï¼‰

è¿™äº›æµ‹è¯•æ¨¡æ‹Ÿ Claude Code ç¯å¢ƒï¼Œä¸éœ€è¦å®é™…å®‰è£… Claude Codeã€‚

```bash
# è¿è¡Œæ‰€æœ‰é›†æˆæµ‹è¯•
npm run test:integration

# åªè¿è¡Œæ’ä»¶é›†æˆæµ‹è¯•
npm run test:plugin
```

**æµ‹è¯•å†…å®¹ï¼š**
- âœ… æ’ä»¶å®‰è£…å’Œå‘ç°
- âœ… æ’ä»¶ç”Ÿå‘½å‘¨æœŸï¼ˆinitialize, activate, deactivate, destroyï¼‰
- âœ… Claude Code å‘½ä»¤é›†æˆ
- âœ… æ’ä»¶é…ç½®å’ŒæŒä¹…åŒ–
- âœ… é”™è¯¯å¤„ç†
- âœ… æ€§èƒ½æµ‹è¯•
- âœ… å…¼å®¹æ€§æ£€æŸ¥

---

### æ–¹å¼ 2: çœŸå®ç¯å¢ƒæµ‹è¯•ï¼ˆæ¨èç”¨äºæœ¬åœ°éªŒè¯ï¼‰

è¿™äº›æµ‹è¯•åœ¨çœŸå®çš„ Claude Code ç¯å¢ƒä¸­è¿è¡Œï¼Œéœ€è¦å®‰è£… Claude Codeã€‚

#### å‰ææ¡ä»¶

1. **å®‰è£… Claude Code**ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰ï¼š
   ```bash
   npm install -g @anthropic/claude-code
   ```

2. **éªŒè¯å®‰è£…**ï¼š
   ```bash
   claude --version
   ```

#### Windows ç”¨æˆ·

```powershell
# è¿è¡ŒçœŸå®ç¯å¢ƒæµ‹è¯•
npm run test:plugin-real-win

# æˆ–ç›´æ¥è¿è¡Œè„šæœ¬
powershell -ExecutionPolicy Bypass -File scripts/test-claude-plugin.ps1
```

#### Unix/Linux/macOS ç”¨æˆ·

```bash
# è¿è¡ŒçœŸå®ç¯å¢ƒæµ‹è¯•
npm run test:plugin-real

# æˆ–ç›´æ¥è¿è¡Œè„šæœ¬
bash scripts/test-claude-plugin.sh
```

**æµ‹è¯•å†…å®¹ï¼š**
- âœ… æ£€æŸ¥ Claude Code å®‰è£…
- âœ… åˆ›å»ºæ’ä»¶ç›®å½•
- âœ… å®‰è£…æ’ä»¶åˆ° `~/.claude/plugins/axiom-omc`
- âœ… æµ‹è¯•æ’ä»¶åŠ è½½
- âœ… æµ‹è¯•æ’ä»¶åˆå§‹åŒ–
- âœ… æµ‹è¯•æ‰€æœ‰å‘½ä»¤
- âœ… æµ‹è¯•æ€§èƒ½
- âœ… è‡ªåŠ¨æ¸…ç†

---

## ğŸ“Š æµ‹è¯•è¦†ç›–

### é›†æˆæµ‹è¯•è¦†ç›–

```
âœ… æ’ä»¶å‘ç°
  - plugin.json æ ¼å¼éªŒè¯
  - .claude-plugin/plugin.json éªŒè¯
  - æ¨¡å—åŠ è½½æµ‹è¯•

âœ… ç”Ÿå‘½å‘¨æœŸ
  - initialize() - åˆå§‹åŒ–
  - activate() - æ¿€æ´»
  - deactivate() - åœç”¨
  - destroy() - é”€æ¯

âœ… å‘½ä»¤ç³»ç»Ÿ
  - /agent list
  - /agent info <agentId>
  - /agent execute <agentId> <input>
  - /workflow list
  - /workflow start <workflowId>
  - /memory stats
  - /plugin info
  - /plugin status

âœ… é…ç½®å’ŒæŒä¹…åŒ–
  - é…ç½®æ–‡ä»¶è¯»å–
  - å­˜å‚¨ç›®å½•åˆ›å»º
  - æ•°æ®æŒä¹…åŒ–

âœ… é”™è¯¯å¤„ç†
  - æ— æ•ˆå‘½ä»¤
  - æœªæ¿€æ´»çŠ¶æ€
  - å¼‚å¸¸æƒ…å†µ

âœ… æ€§èƒ½
  - åˆå§‹åŒ–æ—¶é—´ < 2ç§’
  - å‘½ä»¤æ‰§è¡Œ < 100ms
  - å¹¶å‘å‘½ä»¤æ‰§è¡Œ

âœ… å…¼å®¹æ€§
  - ES æ¨¡å—æ”¯æŒ
  - ä¾èµ–é¡¹æ£€æŸ¥
  - Node.js ç‰ˆæœ¬æ£€æŸ¥
```

---

## ğŸ¯ æµ‹è¯•ç»“æœç¤ºä¾‹

### é›†æˆæµ‹è¯•è¾“å‡º

```
PASS tests/integration/claude-code-plugin.test.js
  Claude Code æ’ä»¶çœŸå®é›†æˆæµ‹è¯•
    æ’ä»¶å®‰è£…å’Œå‘ç°
      âœ“ plugin.json æ–‡ä»¶å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡® (5 ms)
      âœ“ .claude-plugin/plugin.json æ–‡ä»¶å­˜åœ¨ (3 ms)
      âœ“ æ’ä»¶å¯ä»¥è¢« Node.js åŠ è½½ (12 ms)
    æ’ä»¶ç”Ÿå‘½å‘¨æœŸé›†æˆ
      âœ“ æ’ä»¶åˆå§‹åŒ–æµç¨‹ (45 ms)
      âœ“ æ’ä»¶æ¿€æ´»æµç¨‹ (8 ms)
      âœ“ æ’ä»¶æä¾›çš„å‘½ä»¤å¯ç”¨ (5 ms)
      âœ“ æ’ä»¶åœç”¨æµç¨‹ (6 ms)
      âœ“ æ’ä»¶é”€æ¯æµç¨‹ (4 ms)
    Claude Code å‘½ä»¤é›†æˆ
      âœ“ /agent list å‘½ä»¤ (15 ms)
      âœ“ /agent info <agentId> å‘½ä»¤ (8 ms)
      âœ“ /workflow list å‘½ä»¤ (6 ms)
      âœ“ /workflow start <workflowId> å‘½ä»¤ (12 ms)
      âœ“ /memory stats å‘½ä»¤ (7 ms)
      âœ“ /plugin info å‘½ä»¤ (5 ms)
      âœ“ /plugin status å‘½ä»¤ (4 ms)
    æ’ä»¶é…ç½®å’ŒæŒä¹…åŒ–
      âœ“ æ’ä»¶é…ç½®æ–‡ä»¶å¯ä»¥è¢«è¯»å– (3 ms)
      âœ“ æ’ä»¶å¯ä»¥åˆ›å»ºå’Œä½¿ç”¨å­˜å‚¨ç›®å½• (25 ms)
    æ’ä»¶é”™è¯¯å¤„ç†
      âœ“ æ— æ•ˆå‘½ä»¤è¿”å›é”™è¯¯ (6 ms)
      âœ“ æœªæ¿€æ´»æ—¶æ‰§è¡Œå‘½ä»¤æŠ›å‡ºé”™è¯¯ (4 ms)
    æ’ä»¶æ€§èƒ½æµ‹è¯•
      âœ“ æ’ä»¶åˆå§‹åŒ–æ—¶é—´ < 2ç§’ (1250 ms)
      âœ“ å‘½ä»¤æ‰§è¡Œæ—¶é—´ < 100ms (45 ms)
      âœ“ å¹¶å‘å‘½ä»¤æ‰§è¡Œ (32 ms)
    æ’ä»¶å…¼å®¹æ€§æµ‹è¯•
      âœ“ æ’ä»¶æ”¯æŒ ES æ¨¡å— (2 ms)
      âœ“ æ’ä»¶ä¾èµ–é¡¹å·²å®‰è£… (3 ms)
      âœ“ Node.js ç‰ˆæœ¬å…¼å®¹æ€§ (1 ms)

Test Suites: 1 passed, 1 total
Tests:       26 passed, 26 total
```

### çœŸå®ç¯å¢ƒæµ‹è¯•è¾“å‡º

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     Claude Code æ’ä»¶çœŸå®ç¯å¢ƒæµ‹è¯•                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ£€æŸ¥ Claude Code å®‰è£…...
âœ“ Claude Code å·²å®‰è£…
claude-code/2.1.0 darwin-arm64 node-v18.17.0

æ£€æŸ¥ Claude Code æ’ä»¶ç›®å½•...
âœ“ æ’ä»¶ç›®å½•å­˜åœ¨: /Users/user/.claude/plugins

å®‰è£…æ’ä»¶åˆ° Claude Code...
å¤åˆ¶æ’ä»¶æ–‡ä»¶...
å®‰è£…æ’ä»¶ä¾èµ–...
âœ“ æ’ä»¶å·²å®‰è£…åˆ°: /Users/user/.claude/plugins/axiom-omc

æµ‹è¯•æ’ä»¶åŠ è½½...
âœ“ æ’ä»¶æ¨¡å—åŠ è½½æˆåŠŸ
âœ“ createPlugin å‡½æ•°å¯ç”¨
âœ“ æ’ä»¶åŠ è½½æµ‹è¯•é€šè¿‡

æµ‹è¯•æ’ä»¶åˆå§‹åŒ–...
âœ“ æ’ä»¶åˆå§‹åŒ–æˆåŠŸ
âœ“ Agent ç³»ç»Ÿå·²åŠ è½½
âœ“ å‘½ä»¤è·¯ç”±å™¨å·²åŠ è½½
âœ“ è®°å¿†ç³»ç»Ÿå·²åŠ è½½
âœ“ æ’ä»¶é”€æ¯æˆåŠŸ
âœ“ æ’ä»¶åˆå§‹åŒ–æµ‹è¯•é€šè¿‡

æµ‹è¯•æ’ä»¶å‘½ä»¤...
âœ“ agent:list å‘½ä»¤æ­£å¸¸
âœ“ workflow:list å‘½ä»¤æ­£å¸¸
âœ“ memory:stats å‘½ä»¤æ­£å¸¸
âœ“ plugin:info å‘½ä»¤æ­£å¸¸
âœ“ æ’ä»¶å‘½ä»¤æµ‹è¯•é€šè¿‡

æµ‹è¯•æ’ä»¶æ€§èƒ½...
âœ“ åˆå§‹åŒ–æ—¶é—´: 1245ms (< 2000ms)
âœ“ å‘½ä»¤æ‰§è¡Œæ—¶é—´: 42ms (< 100ms)
âœ“ æ’ä»¶æ€§èƒ½æµ‹è¯•é€šè¿‡

æ¸…ç†æµ‹è¯•æ–‡ä»¶...
âœ“ æ¸…ç†å®Œæˆ

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ’ä»¶å·²æˆåŠŸå®‰è£…åˆ° Claude Codeï¼

ä½¿ç”¨æ–¹æ³•:
  1. å¯åŠ¨ Claude Code
  2. è¿è¡Œ: /plugin activate axiom-omc
  3. ä½¿ç”¨å‘½ä»¤: /agent list, /workflow start, ç­‰
```

---

## ğŸ”§ æ‰‹åŠ¨æµ‹è¯•

å¦‚æœè‡ªåŠ¨åŒ–æµ‹è¯•å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨æµ‹è¯•ï¼š

### 1. æ‰‹åŠ¨å®‰è£…æ’ä»¶

```bash
# å…‹éš†åˆ° Claude Code æ’ä»¶ç›®å½•
git clone https://github.com/liangjie559567/axiom-omc-integration.git \
  ~/.claude/plugins/axiom-omc

# å®‰è£…ä¾èµ–
cd ~/.claude/plugins/axiom-omc
npm install
```

### 2. å¯åŠ¨ Claude Code

```bash
claude
```

### 3. æ¿€æ´»æ’ä»¶

åœ¨ Claude Code ä¸­è¿è¡Œï¼š
```
/plugin activate axiom-omc
```

### 4. æµ‹è¯•å‘½ä»¤

```
/agent list
/agent info architect
/workflow list
/workflow start omc-default
/memory stats
/plugin info
/plugin status
```

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ 1: Claude Code æœªå®‰è£…

**é”™è¯¯**ï¼š`claude: command not found`

**è§£å†³**ï¼š
```bash
npm install -g @anthropic/claude-code
```

### é—®é¢˜ 2: æ’ä»¶åŠ è½½å¤±è´¥

**é”™è¯¯**ï¼š`Cannot find module './src/plugin.js'`

**è§£å†³**ï¼š
1. æ£€æŸ¥æ’ä»¶ç›®å½•æ˜¯å¦å®Œæ•´
2. ç¡®ä¿æ‰€æœ‰æ–‡ä»¶éƒ½å·²å¤åˆ¶
3. é‡æ–°å®‰è£…æ’ä»¶

### é—®é¢˜ 3: ä¾èµ–é¡¹ç¼ºå¤±

**é”™è¯¯**ï¼š`Cannot find module 'js-yaml'`

**è§£å†³**ï¼š
```bash
cd ~/.claude/plugins/axiom-omc
npm install
```

### é—®é¢˜ 4: æƒé™é”™è¯¯

**é”™è¯¯**ï¼š`EACCES: permission denied`

**è§£å†³**ï¼š
```bash
# Unix/Linux/macOS
chmod -R 755 ~/.claude/plugins/axiom-omc

# Windows
# å³é”®ç‚¹å‡»æ–‡ä»¶å¤¹ â†’ å±æ€§ â†’ å®‰å…¨ â†’ ç¼–è¾‘æƒé™
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [PLUGIN.md](../PLUGIN.md) - æ’ä»¶å®Œæ•´æ–‡æ¡£
- [USER-GUIDE.md](../docs/USER-GUIDE.md) - ä½¿ç”¨æŒ‡å—
- [API-REFERENCE.md](../docs/API-REFERENCE.md) - API å‚è€ƒ

---

## ğŸ‰ æµ‹è¯•å®Œæˆ

å®Œæˆæ‰€æœ‰æµ‹è¯•åï¼Œæ‚¨çš„æ’ä»¶å·²ç»ï¼š
- âœ… é€šè¿‡æ‰€æœ‰å•å…ƒæµ‹è¯•
- âœ… é€šè¿‡æ‰€æœ‰é›†æˆæµ‹è¯•
- âœ… åœ¨çœŸå®ç¯å¢ƒä¸­éªŒè¯
- âœ… å‡†å¤‡å¥½åœ¨ Claude Code ä¸­ä½¿ç”¨

**å¼€å§‹ä½¿ç”¨æ’ä»¶å§ï¼** ğŸš€
